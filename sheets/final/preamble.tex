\usepackage[export]{adjustbox}
\usepackage{beamerTUDelft}
\usepackage[font=footnotesize]{caption}
\setbeamercovered{invisible}
\usepackage{multicol}
\usefonttheme[onlymath]{serif}
\usepackage{scrextend}
\usepackage{copyrightbox}
\usepackage{transparent}
\usepackage{appendixnumberbeamer}

\newcommand{\semitransp}[2][35]{\color{fg!#1}#2}

\usepackage{tikz}
\usetikzlibrary{automata,arrows,positioning,shapes}

\tikzset{
	invisible/.style={opacity=0,text opacity=0},
	visible on/.style={alt={#1{}{invisible}}},
	alt/.code args={<#1>#2#3}{%
		\alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}} % \pgfkeysalso doesn't change the path
	},
}

\defbeamertemplate*{title page}{mystyle}[1][]
{
	\vbox{}
	\vfill
	\begingroup
	\centering
	\begin{beamercolorbox}[sep=8pt,center,#1]{title}
		\usebeamerfont{title}\inserttitle\par%
		\ifx\insertsubtitle\@empty%
		\else%
		\vskip0.25em%
		{\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
		\fi%
	\end{beamercolorbox}%
	{\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
	\vskip1em\par
	\begin{beamercolorbox}[sep=8pt,center,#1]{author}
		\usebeamerfont{author}\insertauthor
	\end{beamercolorbox}
	\begin{beamercolorbox}[sep=8pt,center,#1]{institute}
		\usebeamerfont{institute}\insertinstitute
	\end{beamercolorbox}
	\begin{beamercolorbox}[sep=8pt,center,#1]{date}
		\usebeamerfont{date}\insertdate
	\end{beamercolorbox}%
	\endgroup
	\vfill
}

% Begin beamer configuration
\setbeamercolor{block title}{use=structure,fg=white,bg=tudblue!100!black}
\setbeamercolor{block body}{use=structure,fg=black,bg=tudblue!20!white}
\setbeamerfont{block body}{size=\small}

\setbeamertemplate{footline}{
	\colorbox{tudblue}{\begin{minipage}{\hsize}
	\vspace{0.0cm}		
	{
	\hspace{0.1cm}
	    \includegraphics[height=0.4cm]{figures/tudelftLogo}
	\textcolor{white}{\textbf{
			\hfill
			\insertframenumber/31	% hard-coded for now, because could not get it to work properly
	}}
	\hspace{0.2cm}
	}
	\vspace{0.1cm}
\end{minipage}}
}

\addtobeamertemplate{headline}{\hypersetup{linkcolor=white}}{}
\setbeamertemplate{headline}{%
\leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.25ex]{palette tertiary}%
    \insertsectionnavigationhorizontal{\paperwidth}{\hskip0pt plus1fill}{\hskip0pt plus1fill}
    \end{beamercolorbox}%
  }
}

\setbeamertemplate{itemize item}{\color{tudblue}$\bullet$}
\setbeamertemplate{enumerate items}[circle]

\setbeamertemplate{blocks}[rounded][]
\setbeamertemplate{items}[circle]
\setbeamertemplate{sections/subsections in toc}[circle]

\usesubitemizeitemtemplate{%
    \raise1.5pt\hbox{\color{beamerstructure}$\blacktriangleright$}%
}
\usesubsubitemizeitemtemplate{%
    \raise1.5pt\hbox{\color{beamerstructure}$\bigstar$}%
}

%\AtBeginSection[]
%{
%\begingroup
%\setbeamertemplate{headline}{%
%\leavevmode%
%  \hbox{%
%    \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.25ex]{palette tertiary}%
%    \end{beamercolorbox}%
%  }
%}
% \begin{frame}
%    \frametitle{Auction Design}
%    \tableofcontents[currentsection]
% \end{frame}
%\endgroup
%}

\newtheoremstyle{named}{}{}{\itshape}{}{\bfseries}{.}{.5em}{\thmnote{#3's }#1}
\theoremstyle{named}
\newtheorem*{namedtheorem}{Theorem}

\makeatletter
\def\th@questionstyle{%
    \normalfont % body font
    \setbeamercolor{block title example}{bg=tudLavender,fg=white}
    \setbeamercolor{block body example}{bg=tudLavender!20,fg=black}
    \def\inserttheoremblockenv{exampleblock}
  }
\makeatother
\theoremstyle{questionstyle}
\newtheorem*{question}{Question}

\definecolor{darkerblue}{RGB}{0,125,222}

% End beamer configuration

\usepackage[many]{tcolorbox}
\tcbset{highlight math style={enhanced,
  colframe=tudblue,colback=tudblue!20!white,arc=4pt,boxrule=1pt
  }}

%\usepackage{ifthen}
\usepackage{graphicx}
%\usepackage{booktabs}
%\usepackage{algorithm}
%\usepackage{calrsfs}
%\usepackage[noend]{algpseudocode}
\usepackage[english]{babel}
%\usepackage{setspace}
%\usepackage{wrapfig,lipsum}
%\usepackage{empheq}
%\usepackage[gen]{eurosym}
%
%\usepackage{algorithmicx}
%\renewcommand{\algorithmicrequire}{\textbf{Input:}}
%\renewcommand{\algorithmicensure}{\textbf{Output:}}
%\algnewcommand{\algorithmicgoto}{\textbf{go to}}%
%\algnewcommand{\Goto}{\algorithmicgoto\xspace}%
%\algnewcommand{\GotoNum}[1]{\algorithmicgoto~\ref{#1}}%
%\algnewcommand{\Label}{\State\unskip}

\newcommand{\bigO}[1]{\ensuremath{\mathop{}\mathopen{}\mathcal{O}\mathopen{}\left(#1\right)}}

\usefonttheme{structurebold}
\setbeamerfont{title}{series=\bfseries,parent=structure,size=\large}
%\setbeamerfont{subtitle}{size=\scriptsize,series=\bfseries,parent=structure}
\setbeamerfont{author}{size=\small}
%\setbeamerfont{institute}{size=\scriptsize,series=\bfseries,parent=structure}
\setbeamerfont{date}{size=\footnotesize}

% Image Source
\usepackage{xparse}

\makeatletter
\gdef\@imgsrcnavigation{}
\setbeamertemplate{navigation symbols}{%
	\makebox[\paperwidth]{%
		\hspace*{1.5em}
		\@imgsrcnavigation
		\hfill}%
}
\DeclareDocumentCommand \imgsrc { s O {Image credit} +m }{%
	\IfBooleanTF{#1}{%
		\def\tempa{off}%
		\def\tempb{#3}%
		\ifx\tempa\tempb
		\gdef\@imgsrcnavigation{}%
		\else
		\gdef\@imgsrcnavigation{{\color{tudblue}{\tiny #2:\thinspace #3}}}%
		\fi
	}{%
	{\tiny #2:\thinspace #3}%
}%
}
\defbeamertemplate{navigation symbols}{dim byd}{%
	\parbox{\paperwidth}{%
		\hspace*{1.5em}%
		\@imgsrcnavigation
		\hfill\par\vskip .5em}}
\newcommand*\navigationoff{\setbeamertemplate{navigation symbols}[dim byd]{}}
\makeatother